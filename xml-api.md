<!-- TITLE: XML API -->
<!-- SUBTITLE: Данное API позволяет реализовать страницу управления услугами подписки в Личном кабинете провайдера, а также добавить услуги Velvica в список уже имеющихся у провайдера услуг.
Обращаем внимание, что как с технической, так и с маркетинговой точки зрения схема интеграции через API является более сложной и ресурсоемкой, чем интеграция через IFRAME. Если есть возможность, лучше воспользоваться схемой с IFRAME. -->

# Получение информации об услугах
**Пример запроса**

```text
https://$AG_NAME.ag.$INSTANCE_DOMAIN/2.01/xml?
  ag_uuid=$agUuid&
  ag_timestamp=$agTimestamp&
  ag_sign=$agSign&
  ag_verbose=$agVerbose&
  ag_service_key=$agServiceKey
```
где: 

AG_NAME в имени домена: уникальное имя оператора на платформе Velvica.
INSTANCE_DOMAIN: доменное имя сервера Velvica.
ag_uuid: идентификатор текущего залогиненного абонента в системе. Если этот параметр равен пустой строке или 0, то возвращаются просто все имеющиеся услуги. Если запрос производится из интерфейса оператора техподдержки, то ag_uuid должен иметь формат: ID_abonenta@ID_сотрудника_поддержки, например: 121000283738@87654. При этом ID сотрудника поддержки может выбираться оператором по его усмотрению (чаще всего берут первичный ключ из БД сотрудников), но он обязательно должен состоять из одних цифр.
ag_timestamp: timestamp формирования текущей страницы (int32).
ag_sign: значение md5($AG_SECRET + "Часть_Запроса_Между_AgUuid_Включительно_и_AgSign_Исключая"). Внимание: при вычислении md5 нужно подставить именно строковое значение части URL запроса, не меняя порядок параметров. В примере выше оно равно $AG_SECRET+"ag_uuid=$agUuid&ag_timestamp=$agTimestamp", а для запроса "/?a=a&b=b&ag_uuid=123&c=c&d=d&ag_sign=xxxxx" значение было бы $AG_SECRET+"ag_uuid=123&c=c&d=d".
ag_verbose: если 0, то поля verbose_* не возвращаются (для экономии производительности). Если 1, то возвращается полное содержимое.
ag_service_key: если задан, возвращается информация только об услуге с данным ключом (если не задан, то обо всех услугах).

